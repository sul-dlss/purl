<% label_id = "section-subjects" %>
<%= render SectionComponent.new(label: 'Subjects', label_id:) do %>
  <%= render TableComponent.new(label_id:) do %>
    <% if subject.present? %>
      <tbody>
        <% subject.each do |field| %>
          <%= render RowFieldComponent.new(field:, value_transformer: ->(subject_line) { safe_join(expand_subject_name(subject_line), ' > ') }) %>
        <% end %>
      </tbody>
    <% end %>
    <% if genre.present? %>
      <tbody>
        <% genre.each do |field| %>
          <%= render RowFieldComponent.new(field:) %>
        <% end %>
      </tbody>
    <% end %>
  <% end %>
<% end %>
